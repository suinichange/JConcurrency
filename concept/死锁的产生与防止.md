#####引言
　　在使用多线程时，我们首先是考虑数据的安全性问题。 于是我们会对代码进行加锁的处理(为了安全)，但是锁太多呢会导致效率的变低，于是我们需要把锁的粒度放细(为了性能)，放细就容易导致死锁。

#####死锁条件,必须同时满足
 - 互斥等待(有锁)  
 - 占有且等待(拿着锁 在等待)  
 - 循环等待(你等我 我等你)
 - 无法剥夺等待(等了就一直等)

#####死锁防止 

 - 破除互斥等待：去掉锁,无锁化；修改上比较难,除非一开始就设计的无锁化,一般无法破除。

 - 破除占有且等待：一次性获取所有资源；我们可以先持有资源，然后等待。如果等待一段时间,如果还拿不到锁就放弃原先持有的锁，过段时间再来获取。当然这也还是会使用户等待一些时间。

 - 破除循环等待：按顺序获取资源
 
 - 破除无法剥夺等待 ：加入超时；这种是不得已的方法,会等时间长,而且会失败,用户体验不好
 
　　当然方法并不唯一,每个方式都有优缺，最终看实现的效果进行选择。
